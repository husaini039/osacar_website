<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Feedback Form</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="feedbacks.css">
</head>
<body>
  <div class="container">
    <div class="form-container">
      <form id="feedbackForm" action="#" method="post">
        <img class="logo" src="images/CarLogo.png" alt="Logo">
        <h1 class="text-center"><i style="color:#191970;">Osacar</i> Feedback Form</h1>
        <div class="form-left">
          <div class="form-group">
            <label>Name:</label>
            <input type="text" name="name" class="form-control" placeholder="Enter your name" required/>
          </div>

          <div class="form-group">
            <label>Email:</label>
            <input type="email" name="email" class="form-control" placeholder="Enter your Email" required/>
          </div>

          <div class="form-group">
            <p>How likely would you recommend Osacar to your friends?</p>
            <label>
              <input name="user-recommend" value="definitely" type="radio" class="input-radio" checked/>Definitely
            </label>
            
            <label>
              <input name="user-recommend" value="maybe" type="radio" class="input-radio"/>Maybe
            </label>

            <label>
              <input name="user-recommend" value="not-sure" type="radio" class="input-radio"/>Not sure
            </label>
          </div>
        </div>
        <div class="form-right">
          <div class="form-group">
            <p>What did you like about Osacar?</p>
            <textarea class="input-textarea" name="liked-features"
              placeholder="Enter your comment here..."
            ></textarea>
          </div>

          <div class="form-group">
            <p>Any comments or suggestions?</p>
            <textarea class="input-textarea" name="comments-suggestions" id="message"
              placeholder="Enter your comment here..."
            ></textarea>
          </div>
        </div>
        <div class="form-group">
          <button type="submit" id="submit" class="submit-button">Submit</button>
        </div>
      </form>
    </div>
  </div>
    
    <script>
    document.addEventListener('DOMContentLoaded', function () {
      var form = document.getElementById('feedbackForm');
      form.addEventListener('submit', function (event) {
        event.preventDefault(); // Prevent form submission

        // Submit the form using fetch (if FormData is supported)
        if (window.fetch) {
          var formData = new FormData(form);
          fetch(form.action, {
            method: 'POST',
            body: formData
          })
          .then(function(response) {
            if (!response.ok) {
              throw new Error('Network response was not ok');
            }
            alert('Feedback submitted successfully!');
            // Redirect to main page
            window.location.href = 'mainMenu.html';
          })
          .catch(function(error) {
            console.error('There was a problem with the fetch operation:', error);
            alert('Error occurred while submitting feedback. Please try again.');
          });
        } else {
          // If fetch is not supported, fallback to traditional form submission
          form.submit();
        }
      });
    });
  </script>
</body>
</html>
